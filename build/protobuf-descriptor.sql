-- Code generated by scripts/common.mk; DO NOT EDIT.

DELIMITER $$

-- Helper function to build fully-qualified type name
DROP FUNCTION IF EXISTS _pb_build_type_name $$
CREATE FUNCTION _pb_build_type_name(package_name TEXT, type_name TEXT) RETURNS TEXT DETERMINISTIC
BEGIN
	IF package_name = '' OR package_name IS NULL THEN
		RETURN CONCAT('.', type_name);
	ELSE
		RETURN CONCAT('.', package_name, '.', type_name);
	END IF;
END $$

-- Helper procedure to process nested types recursively
DROP PROCEDURE IF EXISTS _pb_build_nested_types $$
CREATE PROCEDURE _pb_build_nested_types(
	IN message_descriptor JSON,
	IN parent_name TEXT,
	IN parent_path TEXT,
	IN file_path TEXT,
	INOUT type_index JSON
)
proc: BEGIN
	DECLARE nested_messages JSON;
	DECLARE nested_enums JSON;
	DECLARE nested_msg_count INT DEFAULT 0;
	DECLARE nested_enum_count INT DEFAULT 0;
	DECLARE nested_msg_index INT DEFAULT 0;
	DECLARE nested_enum_index INT DEFAULT 0;
	DECLARE nested_msg_descriptor JSON;
	DECLARE nested_enum_descriptor JSON;
	DECLARE nested_msg_name TEXT;
	DECLARE nested_enum_name TEXT;
	DECLARE nested_msg_path TEXT;
	DECLARE nested_enum_path TEXT;
	DECLARE nested_type_name TEXT;
	DECLARE type_entry JSON;

	-- Process nested message types (field 3 in DescriptorProto)
	SET nested_messages = JSON_EXTRACT(message_descriptor, '$."3"');
	
	IF nested_messages IS NOT NULL THEN
		SET nested_msg_count = JSON_LENGTH(nested_messages);
		SET nested_msg_index = 0;
		
		WHILE nested_msg_index < nested_msg_count DO
			SET nested_msg_descriptor = JSON_EXTRACT(nested_messages, CONCAT('$[', nested_msg_index, ']'));
			SET nested_msg_name = JSON_UNQUOTE(JSON_EXTRACT(nested_msg_descriptor, '$."1"')); -- name field
			SET nested_msg_path = CONCAT(parent_path, '."3"[', nested_msg_index, ']');
			SET nested_type_name = CONCAT(parent_name, '.', nested_msg_name);
			
			-- Add to type index: [kind=11, file_path, type_path]
			SET type_entry = JSON_ARRAY(11, file_path, nested_msg_path);
			SET type_index = JSON_SET(type_index, CONCAT('$."', nested_type_name, '"'), type_entry);
			
			-- Recursively process further nested types
			CALL _pb_build_nested_types(nested_msg_descriptor, nested_type_name, nested_msg_path, file_path, type_index);
			
			SET nested_msg_index = nested_msg_index + 1;
		END WHILE;
	END IF;
	
	-- Process nested enum types (field 4 in DescriptorProto)
	SET nested_enums = JSON_EXTRACT(message_descriptor, '$."4"');
	
	IF nested_enums IS NOT NULL THEN
		SET nested_enum_count = JSON_LENGTH(nested_enums);
		SET nested_enum_index = 0;
		
		WHILE nested_enum_index < nested_enum_count DO
			SET nested_enum_descriptor = JSON_EXTRACT(nested_enums, CONCAT('$[', nested_enum_index, ']'));
			SET nested_enum_name = JSON_UNQUOTE(JSON_EXTRACT(nested_enum_descriptor, '$."1"')); -- name field
			SET nested_enum_path = CONCAT(parent_path, '."4"[', nested_enum_index, ']');
			SET nested_type_name = CONCAT(parent_name, '.', nested_enum_name);
			
			-- Add to type index: [kind=14, file_path, type_path]
			SET type_entry = JSON_ARRAY(14, file_path, nested_enum_path);
			SET type_index = JSON_SET(type_index, CONCAT('$."', nested_type_name, '"'), type_entry);
			
			SET nested_enum_index = nested_enum_index + 1;
		END WHILE;
	END IF;
END $$

-- Public function to generate type index from FileDescriptorSet in protonumberjson format
DROP FUNCTION IF EXISTS _pb_build_type_index_from_descriptor_set $$
CREATE FUNCTION _pb_build_type_index_from_descriptor_set(file_descriptor_set_json JSON) RETURNS JSON DETERMINISTIC
BEGIN
	DECLARE type_index JSON DEFAULT JSON_OBJECT();
	DECLARE files JSON;
	DECLARE file_count INT DEFAULT 0;
	DECLARE file_index INT DEFAULT 0;
	DECLARE file_descriptor JSON;
	DECLARE file_package TEXT;
	DECLARE file_path TEXT;
	DECLARE message_types JSON;
	DECLARE enum_types JSON;
	DECLARE msg_count INT DEFAULT 0;
	DECLARE enum_count INT DEFAULT 0;
	DECLARE msg_index INT DEFAULT 0;
	DECLARE enum_index INT DEFAULT 0;
	DECLARE message_descriptor JSON;
	DECLARE enum_descriptor JSON;
	DECLARE message_name TEXT;
	DECLARE enum_name TEXT;
	DECLARE message_path TEXT;
	DECLARE enum_path TEXT;
	DECLARE full_type_name TEXT;
	DECLARE type_entry JSON;

	-- Extract files array (field 1 in FileDescriptorSet)
	SET files = JSON_EXTRACT(file_descriptor_set_json, '$."1"');
	
	IF files IS NULL THEN
		RETURN type_index;
	END IF;
	
	SET file_count = JSON_LENGTH(files);
	SET file_index = 0;
	
	-- Iterate through each file
	WHILE file_index < file_count DO
		SET file_descriptor = JSON_EXTRACT(files, CONCAT('$[', file_index, ']'));
		SET file_package = COALESCE(JSON_UNQUOTE(JSON_EXTRACT(file_descriptor, '$."2"')), ''); -- package field
		SET file_path = CONCAT('$[1]."1"[', file_index, ']');
		
		-- Process message types (field 4 in FileDescriptorProto)
		SET message_types = JSON_EXTRACT(file_descriptor, '$."4"');
		
		IF message_types IS NOT NULL THEN
			SET msg_count = JSON_LENGTH(message_types);
			SET msg_index = 0;
			
			WHILE msg_index < msg_count DO
				SET message_descriptor = JSON_EXTRACT(message_types, CONCAT('$[', msg_index, ']'));
				SET message_name = JSON_UNQUOTE(JSON_EXTRACT(message_descriptor, '$."1"')); -- name field
				SET message_path = CONCAT(file_path, '."4"[', msg_index, ']');
				SET full_type_name = _pb_build_type_name(file_package, message_name);
				
				-- Add to type index: [kind=11, file_path, type_path]
				SET type_entry = JSON_ARRAY(11, file_path, message_path);
				SET type_index = JSON_SET(type_index, CONCAT('$."', full_type_name, '"'), type_entry);
				
				-- Process nested types recursively
				CALL _pb_build_nested_types(message_descriptor, full_type_name, message_path, file_path, type_index);
				
				SET msg_index = msg_index + 1;
			END WHILE;
		END IF;
		
		-- Process enum types (field 5 in FileDescriptorProto)
		SET enum_types = JSON_EXTRACT(file_descriptor, '$."5"');
		
		IF enum_types IS NOT NULL THEN
			SET enum_count = JSON_LENGTH(enum_types);
			SET enum_index = 0;
			
			WHILE enum_index < enum_count DO
				SET enum_descriptor = JSON_EXTRACT(enum_types, CONCAT('$[', enum_index, ']'));
				SET enum_name = JSON_UNQUOTE(JSON_EXTRACT(enum_descriptor, '$."1"')); -- name field
				SET enum_path = CONCAT(file_path, '."5"[', enum_index, ']');
				SET full_type_name = _pb_build_type_name(file_package, enum_name);
				
				-- Add to type index: [kind=14, file_path, type_path]
				SET type_entry = JSON_ARRAY(14, file_path, enum_path);
				SET type_index = JSON_SET(type_index, CONCAT('$."', full_type_name, '"'), type_entry);
				
				SET enum_index = enum_index + 1;
			END WHILE;
		END IF;
		
		SET file_index = file_index + 1;
	END WHILE;
	
	RETURN type_index;
END $$

-- Public function to convert FileDescriptorSet LONGBLOB to descriptor set JSON
-- Returns a 2-element JSON array: [fileDescriptorSet, typeIndex]
DROP FUNCTION IF EXISTS pb_build_descriptor_set_json $$
CREATE FUNCTION pb_build_descriptor_set_json(file_descriptor_set_blob LONGBLOB) RETURNS JSON DETERMINISTIC
BEGIN
	DECLARE file_descriptor_set_number_json JSON;
	DECLARE type_index JSON;
	DECLARE result JSON;
	
	-- Convert FileDescriptorSet LONGBLOB to protonumberjson format
	SET file_descriptor_set_number_json = _pb_message_to_number_json(
		_pb_get_descriptor_proto_set(),
		'.google.protobuf.FileDescriptorSet',
		file_descriptor_set_blob
	);

	-- Build type index from the FileDescriptorSet
	SET type_index = _pb_build_type_index_from_descriptor_set(file_descriptor_set_number_json);
	
	-- Return 3-element array: [version, fileDescriptorSet, typeIndex]
	SET result = JSON_ARRAY(1, file_descriptor_set_number_json, type_index);
	
	RETURN result;
END $$

DROP FUNCTION IF EXISTS _pb_get_descriptor_proto_set $$
CREATE FUNCTION _pb_get_descriptor_proto_set() RETURNS JSON DETERMINISTIC
BEGIN
	RETURN CAST('[1,{"1":[{"1":"google/protobuf/descriptor.proto","10":[],"11":[],"2":"google.protobuf","3":[],"4":[{"1":"FileDescriptorSet","10":[],"2":[{"1":"file","10":"file","3":1,"4":3,"5":11,"6":".google.protobuf.FileDescriptorProto"}],"3":[],"4":[],"5":[{"1":536000000,"2":536000001}],"6":[],"8":[],"9":[]},{"1":"FileDescriptorProto","10":[],"2":[{"1":"name","10":"name","3":1,"4":1,"5":9},{"1":"package","10":"package","3":2,"4":1,"5":9},{"1":"dependency","10":"dependency","3":3,"4":3,"5":9},{"1":"public_dependency","10":"publicDependency","3":10,"4":3,"5":5},{"1":"weak_dependency","10":"weakDependency","3":11,"4":3,"5":5},{"1":"message_type","10":"messageType","3":4,"4":3,"5":11,"6":".google.protobuf.DescriptorProto"},{"1":"enum_type","10":"enumType","3":5,"4":3,"5":11,"6":".google.protobuf.EnumDescriptorProto"},{"1":"service","10":"service","3":6,"4":3,"5":11,"6":".google.protobuf.ServiceDescriptorProto"},{"1":"extension","10":"extension","3":7,"4":3,"5":11,"6":".google.protobuf.FieldDescriptorProto"},{"1":"options","10":"options","3":8,"4":1,"5":11,"6":".google.protobuf.FileOptions"},{"1":"source_code_info","10":"sourceCodeInfo","3":9,"4":1,"5":11,"6":".google.protobuf.SourceCodeInfo"},{"1":"syntax","10":"syntax","3":12,"4":1,"5":9},{"1":"edition","10":"edition","3":14,"4":1,"5":14,"6":".google.protobuf.Edition"}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[]},{"1":"DescriptorProto","10":[],"2":[{"1":"name","10":"name","3":1,"4":1,"5":9},{"1":"field","10":"field","3":2,"4":3,"5":11,"6":".google.protobuf.FieldDescriptorProto"},{"1":"extension","10":"extension","3":6,"4":3,"5":11,"6":".google.protobuf.FieldDescriptorProto"},{"1":"nested_type","10":"nestedType","3":3,"4":3,"5":11,"6":".google.protobuf.DescriptorProto"},{"1":"enum_type","10":"enumType","3":4,"4":3,"5":11,"6":".google.protobuf.EnumDescriptorProto"},{"1":"extension_range","10":"extensionRange","3":5,"4":3,"5":11,"6":".google.protobuf.DescriptorProto.ExtensionRange"},{"1":"oneof_decl","10":"oneofDecl","3":8,"4":3,"5":11,"6":".google.protobuf.OneofDescriptorProto"},{"1":"options","10":"options","3":7,"4":1,"5":11,"6":".google.protobuf.MessageOptions"},{"1":"reserved_range","10":"reservedRange","3":9,"4":3,"5":11,"6":".google.protobuf.DescriptorProto.ReservedRange"},{"1":"reserved_name","10":"reservedName","3":10,"4":3,"5":9}],"3":[{"1":"ExtensionRange","10":[],"2":[{"1":"start","10":"start","3":1,"4":1,"5":5},{"1":"end","10":"end","3":2,"4":1,"5":5},{"1":"options","10":"options","3":3,"4":1,"5":11,"6":".google.protobuf.ExtensionRangeOptions"}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[]},{"1":"ReservedRange","10":[],"2":[{"1":"start","10":"start","3":1,"4":1,"5":5},{"1":"end","10":"end","3":2,"4":1,"5":5}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[]}],"4":[],"5":[],"6":[],"8":[],"9":[]},{"1":"ExtensionRangeOptions","10":[],"2":[{"1":"uninterpreted_option","10":"uninterpretedOption","3":999,"4":3,"5":11,"6":".google.protobuf.UninterpretedOption"},{"1":"declaration","10":"declaration","3":2,"4":3,"5":11,"6":".google.protobuf.ExtensionRangeOptions.Declaration","8":{"17":2,"19":[],"20":[],"999":[]}},{"1":"features","10":"features","3":50,"4":1,"5":11,"6":".google.protobuf.FeatureSet"},{"1":"verification","10":"verification","3":3,"4":1,"5":14,"6":".google.protobuf.ExtensionRangeOptions.VerificationState","7":"UNVERIFIED","8":{"17":2,"19":[],"20":[],"999":[]}}],"3":[{"1":"Declaration","10":[],"2":[{"1":"number","10":"number","3":1,"4":1,"5":5},{"1":"full_name","10":"fullName","3":2,"4":1,"5":9},{"1":"type","10":"type","3":3,"4":1,"5":9},{"1":"reserved","10":"reserved","3":5,"4":1,"5":8},{"1":"repeated","10":"repeated","3":6,"4":1,"5":8}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[{"1":4,"2":5}]}],"4":[{"1":"VerificationState","2":[{"1":"DECLARATION","2":0},{"1":"UNVERIFIED","2":1}],"4":[],"5":[]}],"5":[{"1":1000,"2":536870912}],"6":[],"8":[],"9":[]},{"1":"FieldDescriptorProto","10":[],"2":[{"1":"name","10":"name","3":1,"4":1,"5":9},{"1":"number","10":"number","3":3,"4":1,"5":5},{"1":"label","10":"label","3":4,"4":1,"5":14,"6":".google.protobuf.FieldDescriptorProto.Label"},{"1":"type","10":"type","3":5,"4":1,"5":14,"6":".google.protobuf.FieldDescriptorProto.Type"},{"1":"type_name","10":"typeName","3":6,"4":1,"5":9},{"1":"extendee","10":"extendee","3":2,"4":1,"5":9},{"1":"default_value","10":"defaultValue","3":7,"4":1,"5":9},{"1":"oneof_index","10":"oneofIndex","3":9,"4":1,"5":5},{"1":"json_name","10":"jsonName","3":10,"4":1,"5":9},{"1":"options","10":"options","3":8,"4":1,"5":11,"6":".google.protobuf.FieldOptions"},{"1":"proto3_optional","10":"proto3Optional","3":17,"4":1,"5":8}],"3":[],"4":[{"1":"Type","2":[{"1":"TYPE_DOUBLE","2":1},{"1":"TYPE_FLOAT","2":2},{"1":"TYPE_INT64","2":3},{"1":"TYPE_UINT64","2":4},{"1":"TYPE_INT32","2":5},{"1":"TYPE_FIXED64","2":6},{"1":"TYPE_FIXED32","2":7},{"1":"TYPE_BOOL","2":8},{"1":"TYPE_STRING","2":9},{"1":"TYPE_GROUP","2":10},{"1":"TYPE_MESSAGE","2":11},{"1":"TYPE_BYTES","2":12},{"1":"TYPE_UINT32","2":13},{"1":"TYPE_ENUM","2":14},{"1":"TYPE_SFIXED32","2":15},{"1":"TYPE_SFIXED64","2":16},{"1":"TYPE_SINT32","2":17},{"1":"TYPE_SINT64","2":18}],"4":[],"5":[]},{"1":"Label","2":[{"1":"LABEL_OPTIONAL","2":1},{"1":"LABEL_REPEATED","2":3},{"1":"LABEL_REQUIRED","2":2}],"4":[],"5":[]}],"5":[],"6":[],"8":[],"9":[]},{"1":"OneofDescriptorProto","10":[],"2":[{"1":"name","10":"name","3":1,"4":1,"5":9},{"1":"options","10":"options","3":2,"4":1,"5":11,"6":".google.protobuf.OneofOptions"}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[]},{"1":"EnumDescriptorProto","10":[],"2":[{"1":"name","10":"name","3":1,"4":1,"5":9},{"1":"value","10":"value","3":2,"4":3,"5":11,"6":".google.protobuf.EnumValueDescriptorProto"},{"1":"options","10":"options","3":3,"4":1,"5":11,"6":".google.protobuf.EnumOptions"},{"1":"reserved_range","10":"reservedRange","3":4,"4":3,"5":11,"6":".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{"1":"reserved_name","10":"reservedName","3":5,"4":3,"5":9}],"3":[{"1":"EnumReservedRange","10":[],"2":[{"1":"start","10":"start","3":1,"4":1,"5":5},{"1":"end","10":"end","3":2,"4":1,"5":5}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[]}],"4":[],"5":[],"6":[],"8":[],"9":[]},{"1":"EnumValueDescriptorProto","10":[],"2":[{"1":"name","10":"name","3":1,"4":1,"5":9},{"1":"number","10":"number","3":2,"4":1,"5":5},{"1":"options","10":"options","3":3,"4":1,"5":11,"6":".google.protobuf.EnumValueOptions"}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[]},{"1":"ServiceDescriptorProto","10":[],"2":[{"1":"name","10":"name","3":1,"4":1,"5":9},{"1":"method","10":"method","3":2,"4":3,"5":11,"6":".google.protobuf.MethodDescriptorProto"},{"1":"options","10":"options","3":3,"4":1,"5":11,"6":".google.protobuf.ServiceOptions"}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[]},{"1":"MethodDescriptorProto","10":[],"2":[{"1":"name","10":"name","3":1,"4":1,"5":9},{"1":"input_type","10":"inputType","3":2,"4":1,"5":9},{"1":"output_type","10":"outputType","3":3,"4":1,"5":9},{"1":"options","10":"options","3":4,"4":1,"5":11,"6":".google.protobuf.MethodOptions"},{"1":"client_streaming","10":"clientStreaming","3":5,"4":1,"5":8,"7":"false"},{"1":"server_streaming","10":"serverStreaming","3":6,"4":1,"5":8,"7":"false"}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[]},{"1":"FileOptions","10":["php_generic_services"],"2":[{"1":"java_package","10":"javaPackage","3":1,"4":1,"5":9},{"1":"java_outer_classname","10":"javaOuterClassname","3":8,"4":1,"5":9},{"1":"java_multiple_files","10":"javaMultipleFiles","3":10,"4":1,"5":8,"7":"false"},{"1":"java_generate_equals_and_hash","10":"javaGenerateEqualsAndHash","3":20,"4":1,"5":8,"8":{"19":[],"20":[],"3":true,"999":[]}},{"1":"java_string_check_utf8","10":"javaStringCheckUtf8","3":27,"4":1,"5":8,"7":"false"},{"1":"optimize_for","10":"optimizeFor","3":9,"4":1,"5":14,"6":".google.protobuf.FileOptions.OptimizeMode","7":"SPEED"},{"1":"go_package","10":"goPackage","3":11,"4":1,"5":9},{"1":"cc_generic_services","10":"ccGenericServices","3":16,"4":1,"5":8,"7":"false"},{"1":"java_generic_services","10":"javaGenericServices","3":17,"4":1,"5":8,"7":"false"},{"1":"py_generic_services","10":"pyGenericServices","3":18,"4":1,"5":8,"7":"false"},{"1":"deprecated","10":"deprecated","3":23,"4":1,"5":8,"7":"false"},{"1":"cc_enable_arenas","10":"ccEnableArenas","3":31,"4":1,"5":8,"7":"true"},{"1":"objc_class_prefix","10":"objcClassPrefix","3":36,"4":1,"5":9},{"1":"csharp_namespace","10":"csharpNamespace","3":37,"4":1,"5":9},{"1":"swift_prefix","10":"swiftPrefix","3":39,"4":1,"5":9},{"1":"php_class_prefix","10":"phpClassPrefix","3":40,"4":1,"5":9},{"1":"php_namespace","10":"phpNamespace","3":41,"4":1,"5":9},{"1":"php_metadata_namespace","10":"phpMetadataNamespace","3":44,"4":1,"5":9},{"1":"ruby_package","10":"rubyPackage","3":45,"4":1,"5":9},{"1":"features","10":"features","3":50,"4":1,"5":11,"6":".google.protobuf.FeatureSet"},{"1":"uninterpreted_option","10":"uninterpretedOption","3":999,"4":3,"5":11,"6":".google.protobuf.UninterpretedOption"}],"3":[],"4":[{"1":"OptimizeMode","2":[{"1":"SPEED","2":1},{"1":"CODE_SIZE","2":2},{"1":"LITE_RUNTIME","2":3}],"4":[],"5":[]}],"5":[{"1":1000,"2":536870912}],"6":[],"8":[],"9":[{"1":42,"2":43},{"1":38,"2":39}]},{"1":"MessageOptions","10":[],"2":[{"1":"message_set_wire_format","10":"messageSetWireFormat","3":1,"4":1,"5":8,"7":"false"},{"1":"no_standard_descriptor_accessor","10":"noStandardDescriptorAccessor","3":2,"4":1,"5":8,"7":"false"},{"1":"deprecated","10":"deprecated","3":3,"4":1,"5":8,"7":"false"},{"1":"map_entry","10":"mapEntry","3":7,"4":1,"5":8},{"1":"deprecated_legacy_json_field_conflicts","10":"deprecatedLegacyJsonFieldConflicts","3":11,"4":1,"5":8,"8":{"19":[],"20":[],"3":true,"999":[]}},{"1":"features","10":"features","3":12,"4":1,"5":11,"6":".google.protobuf.FeatureSet"},{"1":"uninterpreted_option","10":"uninterpretedOption","3":999,"4":3,"5":11,"6":".google.protobuf.UninterpretedOption"}],"3":[],"4":[],"5":[{"1":1000,"2":536870912}],"6":[],"8":[],"9":[{"1":4,"2":5},{"1":5,"2":6},{"1":6,"2":7},{"1":8,"2":9},{"1":9,"2":10}]},{"1":"FieldOptions","10":[],"2":[{"1":"ctype","10":"ctype","3":1,"4":1,"5":14,"6":".google.protobuf.FieldOptions.CType","7":"STRING"},{"1":"packed","10":"packed","3":2,"4":1,"5":8},{"1":"jstype","10":"jstype","3":6,"4":1,"5":14,"6":".google.protobuf.FieldOptions.JSType","7":"JS_NORMAL"},{"1":"lazy","10":"lazy","3":5,"4":1,"5":8,"7":"false"},{"1":"unverified_lazy","10":"unverifiedLazy","3":15,"4":1,"5":8,"7":"false"},{"1":"deprecated","10":"deprecated","3":3,"4":1,"5":8,"7":"false"},{"1":"weak","10":"weak","3":10,"4":1,"5":8,"7":"false"},{"1":"debug_redact","10":"debugRedact","3":16,"4":1,"5":8,"7":"false"},{"1":"retention","10":"retention","3":17,"4":1,"5":14,"6":".google.protobuf.FieldOptions.OptionRetention"},{"1":"targets","10":"targets","3":19,"4":3,"5":14,"6":".google.protobuf.FieldOptions.OptionTargetType"},{"1":"edition_defaults","10":"editionDefaults","3":20,"4":3,"5":11,"6":".google.protobuf.FieldOptions.EditionDefault"},{"1":"features","10":"features","3":21,"4":1,"5":11,"6":".google.protobuf.FeatureSet"},{"1":"feature_support","10":"featureSupport","3":22,"4":1,"5":11,"6":".google.protobuf.FieldOptions.FeatureSupport"},{"1":"uninterpreted_option","10":"uninterpretedOption","3":999,"4":3,"5":11,"6":".google.protobuf.UninterpretedOption"}],"3":[{"1":"EditionDefault","10":[],"2":[{"1":"edition","10":"edition","3":3,"4":1,"5":14,"6":".google.protobuf.Edition"},{"1":"value","10":"value","3":2,"4":1,"5":9}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[]},{"1":"FeatureSupport","10":[],"2":[{"1":"edition_introduced","10":"editionIntroduced","3":1,"4":1,"5":14,"6":".google.protobuf.Edition"},{"1":"edition_deprecated","10":"editionDeprecated","3":2,"4":1,"5":14,"6":".google.protobuf.Edition"},{"1":"deprecation_warning","10":"deprecationWarning","3":3,"4":1,"5":9},{"1":"edition_removed","10":"editionRemoved","3":4,"4":1,"5":14,"6":".google.protobuf.Edition"}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[]}],"4":[{"1":"CType","2":[{"1":"STRING","2":0},{"1":"CORD","2":1},{"1":"STRING_PIECE","2":2}],"4":[],"5":[]},{"1":"JSType","2":[{"1":"JS_NORMAL","2":0},{"1":"JS_STRING","2":1},{"1":"JS_NUMBER","2":2}],"4":[],"5":[]},{"1":"OptionRetention","2":[{"1":"RETENTION_UNKNOWN","2":0},{"1":"RETENTION_RUNTIME","2":1},{"1":"RETENTION_SOURCE","2":2}],"4":[],"5":[]},{"1":"OptionTargetType","2":[{"1":"TARGET_TYPE_UNKNOWN","2":0},{"1":"TARGET_TYPE_FILE","2":1},{"1":"TARGET_TYPE_EXTENSION_RANGE","2":2},{"1":"TARGET_TYPE_MESSAGE","2":3},{"1":"TARGET_TYPE_FIELD","2":4},{"1":"TARGET_TYPE_ONEOF","2":5},{"1":"TARGET_TYPE_ENUM","2":6},{"1":"TARGET_TYPE_ENUM_ENTRY","2":7},{"1":"TARGET_TYPE_SERVICE","2":8},{"1":"TARGET_TYPE_METHOD","2":9}],"4":[],"5":[]}],"5":[{"1":1000,"2":536870912}],"6":[],"8":[],"9":[{"1":4,"2":5},{"1":18,"2":19}]},{"1":"OneofOptions","10":[],"2":[{"1":"features","10":"features","3":1,"4":1,"5":11,"6":".google.protobuf.FeatureSet"},{"1":"uninterpreted_option","10":"uninterpretedOption","3":999,"4":3,"5":11,"6":".google.protobuf.UninterpretedOption"}],"3":[],"4":[],"5":[{"1":1000,"2":536870912}],"6":[],"8":[],"9":[]},{"1":"EnumOptions","10":[],"2":[{"1":"allow_alias","10":"allowAlias","3":2,"4":1,"5":8},{"1":"deprecated","10":"deprecated","3":3,"4":1,"5":8,"7":"false"},{"1":"deprecated_legacy_json_field_conflicts","10":"deprecatedLegacyJsonFieldConflicts","3":6,"4":1,"5":8,"8":{"19":[],"20":[],"3":true,"999":[]}},{"1":"features","10":"features","3":7,"4":1,"5":11,"6":".google.protobuf.FeatureSet"},{"1":"uninterpreted_option","10":"uninterpretedOption","3":999,"4":3,"5":11,"6":".google.protobuf.UninterpretedOption"}],"3":[],"4":[],"5":[{"1":1000,"2":536870912}],"6":[],"8":[],"9":[{"1":5,"2":6}]},{"1":"EnumValueOptions","10":[],"2":[{"1":"deprecated","10":"deprecated","3":1,"4":1,"5":8,"7":"false"},{"1":"features","10":"features","3":2,"4":1,"5":11,"6":".google.protobuf.FeatureSet"},{"1":"debug_redact","10":"debugRedact","3":3,"4":1,"5":8,"7":"false"},{"1":"feature_support","10":"featureSupport","3":4,"4":1,"5":11,"6":".google.protobuf.FieldOptions.FeatureSupport"},{"1":"uninterpreted_option","10":"uninterpretedOption","3":999,"4":3,"5":11,"6":".google.protobuf.UninterpretedOption"}],"3":[],"4":[],"5":[{"1":1000,"2":536870912}],"6":[],"8":[],"9":[]},{"1":"ServiceOptions","10":[],"2":[{"1":"features","10":"features","3":34,"4":1,"5":11,"6":".google.protobuf.FeatureSet"},{"1":"deprecated","10":"deprecated","3":33,"4":1,"5":8,"7":"false"},{"1":"uninterpreted_option","10":"uninterpretedOption","3":999,"4":3,"5":11,"6":".google.protobuf.UninterpretedOption"}],"3":[],"4":[],"5":[{"1":1000,"2":536870912}],"6":[],"8":[],"9":[]},{"1":"MethodOptions","10":[],"2":[{"1":"deprecated","10":"deprecated","3":33,"4":1,"5":8,"7":"false"},{"1":"idempotency_level","10":"idempotencyLevel","3":34,"4":1,"5":14,"6":".google.protobuf.MethodOptions.IdempotencyLevel","7":"IDEMPOTENCY_UNKNOWN"},{"1":"features","10":"features","3":35,"4":1,"5":11,"6":".google.protobuf.FeatureSet"},{"1":"uninterpreted_option","10":"uninterpretedOption","3":999,"4":3,"5":11,"6":".google.protobuf.UninterpretedOption"}],"3":[],"4":[{"1":"IdempotencyLevel","2":[{"1":"IDEMPOTENCY_UNKNOWN","2":0},{"1":"NO_SIDE_EFFECTS","2":1},{"1":"IDEMPOTENT","2":2}],"4":[],"5":[]}],"5":[{"1":1000,"2":536870912}],"6":[],"8":[],"9":[]},{"1":"UninterpretedOption","10":[],"2":[{"1":"name","10":"name","3":2,"4":3,"5":11,"6":".google.protobuf.UninterpretedOption.NamePart"},{"1":"identifier_value","10":"identifierValue","3":3,"4":1,"5":9},{"1":"positive_int_value","10":"positiveIntValue","3":4,"4":1,"5":4},{"1":"negative_int_value","10":"negativeIntValue","3":5,"4":1,"5":3},{"1":"double_value","10":"doubleValue","3":6,"4":1,"5":1},{"1":"string_value","10":"stringValue","3":7,"4":1,"5":12},{"1":"aggregate_value","10":"aggregateValue","3":8,"4":1,"5":9}],"3":[{"1":"NamePart","10":[],"2":[{"1":"name_part","10":"namePart","3":1,"4":2,"5":9},{"1":"is_extension","10":"isExtension","3":2,"4":2,"5":8}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[]}],"4":[],"5":[],"6":[],"8":[],"9":[]},{"1":"FeatureSet","10":[],"2":[{"1":"field_presence","10":"fieldPresence","3":1,"4":1,"5":14,"6":".google.protobuf.FeatureSet.FieldPresence","8":{"17":1,"19":[4,1],"20":[{"2":"EXPLICIT","3":900},{"2":"IMPLICIT","3":999},{"2":"EXPLICIT","3":1000}],"22":{"1":1000},"999":[]}},{"1":"enum_type","10":"enumType","3":2,"4":1,"5":14,"6":".google.protobuf.FeatureSet.EnumType","8":{"17":1,"19":[6,1],"20":[{"2":"CLOSED","3":900},{"2":"OPEN","3":999}],"22":{"1":1000},"999":[]}},{"1":"repeated_field_encoding","10":"repeatedFieldEncoding","3":3,"4":1,"5":14,"6":".google.protobuf.FeatureSet.RepeatedFieldEncoding","8":{"17":1,"19":[4,1],"20":[{"2":"EXPANDED","3":900},{"2":"PACKED","3":999}],"22":{"1":1000},"999":[]}},{"1":"utf8_validation","10":"utf8Validation","3":4,"4":1,"5":14,"6":".google.protobuf.FeatureSet.Utf8Validation","8":{"17":1,"19":[4,1],"20":[{"2":"NONE","3":900},{"2":"VERIFY","3":999}],"22":{"1":1000},"999":[]}},{"1":"message_encoding","10":"messageEncoding","3":5,"4":1,"5":14,"6":".google.protobuf.FeatureSet.MessageEncoding","8":{"17":1,"19":[4,1],"20":[{"2":"LENGTH_PREFIXED","3":900}],"22":{"1":1000},"999":[]}},{"1":"json_format","10":"jsonFormat","3":6,"4":1,"5":14,"6":".google.protobuf.FeatureSet.JsonFormat","8":{"17":1,"19":[3,6,1],"20":[{"2":"LEGACY_BEST_EFFORT","3":900},{"2":"ALLOW","3":999}],"22":{"1":1000},"999":[]}},{"1":"enforce_naming_style","10":"enforceNamingStyle","3":7,"4":1,"5":14,"6":".google.protobuf.FeatureSet.EnforceNamingStyle","8":{"17":2,"19":[1,2,3,4,5,6,7,8,9],"20":[{"2":"STYLE_LEGACY","3":900},{"2":"STYLE2024","3":1001}],"22":{"1":1001},"999":[]}}],"3":[],"4":[{"1":"FieldPresence","2":[{"1":"FIELD_PRESENCE_UNKNOWN","2":0},{"1":"EXPLICIT","2":1},{"1":"IMPLICIT","2":2},{"1":"LEGACY_REQUIRED","2":3}],"4":[],"5":[]},{"1":"EnumType","2":[{"1":"ENUM_TYPE_UNKNOWN","2":0},{"1":"OPEN","2":1},{"1":"CLOSED","2":2}],"4":[],"5":[]},{"1":"RepeatedFieldEncoding","2":[{"1":"REPEATED_FIELD_ENCODING_UNKNOWN","2":0},{"1":"PACKED","2":1},{"1":"EXPANDED","2":2}],"4":[],"5":[]},{"1":"Utf8Validation","2":[{"1":"UTF8_VALIDATION_UNKNOWN","2":0},{"1":"VERIFY","2":2},{"1":"NONE","2":3}],"4":[{"1":1,"2":1}],"5":[]},{"1":"MessageEncoding","2":[{"1":"MESSAGE_ENCODING_UNKNOWN","2":0},{"1":"LENGTH_PREFIXED","2":1},{"1":"DELIMITED","2":2}],"4":[],"5":[]},{"1":"JsonFormat","2":[{"1":"JSON_FORMAT_UNKNOWN","2":0},{"1":"ALLOW","2":1},{"1":"LEGACY_BEST_EFFORT","2":2}],"4":[],"5":[]},{"1":"EnforceNamingStyle","2":[{"1":"ENFORCE_NAMING_STYLE_UNKNOWN","2":0},{"1":"STYLE2024","2":1},{"1":"STYLE_LEGACY","2":2}],"4":[],"5":[]}],"5":[{"1":1000,"2":9995},{"1":9995,"2":10000},{"1":10000,"2":10001}],"6":[],"8":[],"9":[{"1":999,"2":1000}]},{"1":"FeatureSetDefaults","10":[],"2":[{"1":"defaults","10":"defaults","3":1,"4":3,"5":11,"6":".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{"1":"minimum_edition","10":"minimumEdition","3":4,"4":1,"5":14,"6":".google.protobuf.Edition"},{"1":"maximum_edition","10":"maximumEdition","3":5,"4":1,"5":14,"6":".google.protobuf.Edition"}],"3":[{"1":"FeatureSetEditionDefault","10":["features"],"2":[{"1":"edition","10":"edition","3":3,"4":1,"5":14,"6":".google.protobuf.Edition"},{"1":"overridable_features","10":"overridableFeatures","3":4,"4":1,"5":11,"6":".google.protobuf.FeatureSet"},{"1":"fixed_features","10":"fixedFeatures","3":5,"4":1,"5":11,"6":".google.protobuf.FeatureSet"}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[{"1":1,"2":2},{"1":2,"2":3}]}],"4":[],"5":[],"6":[],"8":[],"9":[]},{"1":"SourceCodeInfo","10":[],"2":[{"1":"location","10":"location","3":1,"4":3,"5":11,"6":".google.protobuf.SourceCodeInfo.Location"}],"3":[{"1":"Location","10":[],"2":[{"1":"path","10":"path","3":1,"4":3,"5":5,"8":{"19":[],"2":true,"20":[],"999":[]}},{"1":"span","10":"span","3":2,"4":3,"5":5,"8":{"19":[],"2":true,"20":[],"999":[]}},{"1":"leading_comments","10":"leadingComments","3":3,"4":1,"5":9},{"1":"trailing_comments","10":"trailingComments","3":4,"4":1,"5":9},{"1":"leading_detached_comments","10":"leadingDetachedComments","3":6,"4":3,"5":9}],"3":[],"4":[],"5":[],"6":[],"8":[],"9":[]}],"4":[],"5":[{"1":536000000,"2":536000001}],"6":[],"8":[],"9":[]},{"1":"GeneratedCodeInfo","10":[],"2":[{"1":"annotation","10":"annotation","3":1,"4":3,"5":11,"6":".google.protobuf.GeneratedCodeInfo.Annotation"}],"3":[{"1":"Annotation","10":[],"2":[{"1":"path","10":"path","3":1,"4":3,"5":5,"8":{"19":[],"2":true,"20":[],"999":[]}},{"1":"source_file","10":"sourceFile","3":2,"4":1,"5":9},{"1":"begin","10":"begin","3":3,"4":1,"5":5},{"1":"end","10":"end","3":4,"4":1,"5":5},{"1":"semantic","10":"semantic","3":5,"4":1,"5":14,"6":".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],"3":[],"4":[{"1":"Semantic","2":[{"1":"NONE","2":0},{"1":"SET","2":1},{"1":"ALIAS","2":2}],"4":[],"5":[]}],"5":[],"6":[],"8":[],"9":[]}],"4":[],"5":[],"6":[],"8":[],"9":[]}],"5":[{"1":"Edition","2":[{"1":"EDITION_UNKNOWN","2":0},{"1":"EDITION_LEGACY","2":900},{"1":"EDITION_PROTO2","2":998},{"1":"EDITION_PROTO3","2":999},{"1":"EDITION_2023","2":1000},{"1":"EDITION_2024","2":1001},{"1":"EDITION_1_TEST_ONLY","2":1},{"1":"EDITION_2_TEST_ONLY","2":2},{"1":"EDITION_99997_TEST_ONLY","2":99997},{"1":"EDITION_99998_TEST_ONLY","2":99998},{"1":"EDITION_99999_TEST_ONLY","2":99999},{"1":"EDITION_MAX","2":2147483647}],"4":[],"5":[]}],"6":[],"7":[],"8":{"1":"com.google.protobuf","11":"google.golang.org/protobuf/types/descriptorpb","31":true,"36":"GPB","37":"Google.Protobuf.Reflection","8":"DescriptorProtos","9":1,"999":[]}}]},{".google.protobuf.DescriptorProto":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[2]"],".google.protobuf.DescriptorProto.ExtensionRange":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[2].\\"3\\"[0]"],".google.protobuf.DescriptorProto.ReservedRange":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[2].\\"3\\"[1]"],".google.protobuf.Edition":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"5\\"[0]"],".google.protobuf.EnumDescriptorProto":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[6]"],".google.protobuf.EnumDescriptorProto.EnumReservedRange":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[6].\\"3\\"[0]"],".google.protobuf.EnumOptions":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[14]"],".google.protobuf.EnumValueDescriptorProto":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[7]"],".google.protobuf.EnumValueOptions":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[15]"],".google.protobuf.ExtensionRangeOptions":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[3]"],".google.protobuf.ExtensionRangeOptions.Declaration":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[3].\\"3\\"[0]"],".google.protobuf.ExtensionRangeOptions.VerificationState":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[3].\\"4\\"[0]"],".google.protobuf.FeatureSet":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[19]"],".google.protobuf.FeatureSet.EnforceNamingStyle":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[19].\\"4\\"[6]"],".google.protobuf.FeatureSet.EnumType":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[19].\\"4\\"[1]"],".google.protobuf.FeatureSet.FieldPresence":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[19].\\"4\\"[0]"],".google.protobuf.FeatureSet.JsonFormat":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[19].\\"4\\"[5]"],".google.protobuf.FeatureSet.MessageEncoding":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[19].\\"4\\"[4]"],".google.protobuf.FeatureSet.RepeatedFieldEncoding":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[19].\\"4\\"[2]"],".google.protobuf.FeatureSet.Utf8Validation":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[19].\\"4\\"[3]"],".google.protobuf.FeatureSetDefaults":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[20]"],".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[20].\\"3\\"[0]"],".google.protobuf.FieldDescriptorProto":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[4]"],".google.protobuf.FieldDescriptorProto.Label":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[4].\\"4\\"[1]"],".google.protobuf.FieldDescriptorProto.Type":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[4].\\"4\\"[0]"],".google.protobuf.FieldOptions":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[12]"],".google.protobuf.FieldOptions.CType":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[12].\\"4\\"[0]"],".google.protobuf.FieldOptions.EditionDefault":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[12].\\"3\\"[0]"],".google.protobuf.FieldOptions.FeatureSupport":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[12].\\"3\\"[1]"],".google.protobuf.FieldOptions.JSType":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[12].\\"4\\"[1]"],".google.protobuf.FieldOptions.OptionRetention":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[12].\\"4\\"[2]"],".google.protobuf.FieldOptions.OptionTargetType":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[12].\\"4\\"[3]"],".google.protobuf.FileDescriptorProto":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[1]"],".google.protobuf.FileDescriptorSet":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[0]"],".google.protobuf.FileOptions":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[10]"],".google.protobuf.FileOptions.OptimizeMode":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[10].\\"4\\"[0]"],".google.protobuf.GeneratedCodeInfo":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[22]"],".google.protobuf.GeneratedCodeInfo.Annotation":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[22].\\"3\\"[0]"],".google.protobuf.GeneratedCodeInfo.Annotation.Semantic":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[22].\\"3\\"[0].\\"4\\"[0]"],".google.protobuf.MessageOptions":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[11]"],".google.protobuf.MethodDescriptorProto":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[9]"],".google.protobuf.MethodOptions":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[17]"],".google.protobuf.MethodOptions.IdempotencyLevel":[14,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[17].\\"4\\"[0]"],".google.protobuf.OneofDescriptorProto":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[5]"],".google.protobuf.OneofOptions":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[13]"],".google.protobuf.ServiceDescriptorProto":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[8]"],".google.protobuf.ServiceOptions":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[16]"],".google.protobuf.SourceCodeInfo":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[21]"],".google.protobuf.SourceCodeInfo.Location":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[21].\\"3\\"[0]"],".google.protobuf.UninterpretedOption":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[18]"],".google.protobuf.UninterpretedOption.NamePart":[11,"$[1].\\"1\\"[0]","$[1].\\"1\\"[0].\\"4\\"[18].\\"3\\"[0]"]}]' AS JSON);
END $$
